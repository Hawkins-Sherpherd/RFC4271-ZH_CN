# 报文头格式

每个报文都有固定尺寸的报文头。报文头之后可能有也可能没有数据交互，取决于报文类型。以下是这些字段的布局：

```
0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
+                                                               +
|                                                               |
+                                                               +
|                           Marker                              |
+                                                               +
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          Length               |      Type     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
```

&emsp;

## 标识（Marker）：

这个由16个八位元组成的字段是出于兼容性的目的而包括在内的；它**必须**被设置为全1。

&emsp;

## 长度（Length）:

这个由2个八位元组成的无符号整数表示整个报文的长度，包括报文头在内，以八位元为单位。因此，它使下一个报文（的标识字段）能在 TCP 流中被定位。其值应**必须**始终至少为19且不大于4096，而且**可能**会有更多约束，取决于报文类型。在这个报文之后填充（Padding）额外数据是不被允许的。考虑到报文存在的其余部分，长度字段**必须**有最小值设定。

&emsp;

## 类型（Type）:

这个由1个八位元组成的无符号整数表示报文的类型代码。本文档定义如下类型代码：

* 1 - OPEN
* 2 - UPDATE
* 3 - NOTIFICATION
* 4 - KEEPALIVE

[[RFC2918](https://www.rfc-editor.org/rfc/rfc2918.html)] 定义了更多类型代码。